SELECT r.TYPE, COUNT(r.TYPE) AS COUNT FROM ROOMS r RIGHT JOIN (RESERVED re 
JOIN BOOKINGS b on re.BOOKINGID=b.ID) on re.ROOMID = r.ID 
WHERE b.CHECKIN < 1420030800658 AND b.CHECKOUT > 1451566800659 AND b.CITYID = 1 GROUP BY r.TYPE